{
  "metadata": {
    "study_id": "MAXIS-08",
    "source_domain": "CONMEDS.csv",
    "target_domain": "CM",
    "sdtm_version": "SDTM-IG 3.4",
    "created_by": "SDTM Mapping Generator",
    "created_date": "2026-02-02T09:31:29.152823",
    "description": "Mapping specification for CM domain transformation"
  },
  "source_files": [
    {
      "filename": "CONMEDS.csv",
      "records": 302,
      "columns": 38
    }
  ],
  "variable_mappings": [
    {
      "sdtm_variable": "STUDYID",
      "label": "Study Identifier",
      "type": "Char",
      "core": "Req",
      "source_column": "STUDY",
      "transformation": "Direct mapping",
      "transformation_type": "COPY",
      "controlled_terminology": null,
      "comments": "Study identifier from source STUDY field"
    },
    {
      "sdtm_variable": "DOMAIN",
      "label": "Domain Abbreviation",
      "type": "Char",
      "core": "Req",
      "source_column": "",
      "transformation": null,
      "transformation_type": "DERIVE",
      "controlled_terminology": null,
      "comments": "Required constant value for Concomitant Medications domain"
    },
    {
      "sdtm_variable": "USUBJID",
      "label": "Unique Subject Identifier",
      "type": "Char",
      "core": "Req",
      "source_column": "PT",
      "transformation": "Concatenate study, site, and subject identifiers",
      "transformation_type": "CONCAT",
      "controlled_terminology": null,
      "comments": "Unique subject identifier derived from STUDY, INVSITE, and PT (subject ID)"
    },
    {
      "sdtm_variable": "SUBJID",
      "label": "SUBJID",
      "type": "Char",
      "core": "Perm",
      "source_column": "PT",
      "transformation": "Direct mapping",
      "transformation_type": "COPY",
      "controlled_terminology": null,
      "comments": "Subject identifier within the study from PT field"
    },
    {
      "sdtm_variable": "SITEID",
      "label": "SITEID",
      "type": "Char",
      "core": "Perm",
      "source_column": "INVSITE",
      "transformation": "Direct mapping",
      "transformation_type": "COPY",
      "controlled_terminology": null,
      "comments": "Study site identifier"
    },
    {
      "sdtm_variable": "CMSEQ",
      "label": "Sequence Number",
      "type": "Num",
      "core": "Req",
      "source_column": "MDSEQ",
      "transformation": "Use source sequence or derive",
      "transformation_type": "SEQUENCE",
      "controlled_terminology": null,
      "comments": "Sequence number for each medication record per subject"
    },
    {
      "sdtm_variable": "CMTRT",
      "label": "Reported Name of Drug, Med, or Therapy",
      "type": "Char",
      "core": "Req",
      "source_column": "MDPNT",
      "transformation": "Direct mapping",
      "transformation_type": "COPY",
      "controlled_terminology": null,
      "comments": "Reported name of medication as collected in EDC"
    },
    {
      "sdtm_variable": "CMMODIFY",
      "label": "Modified Reported Name",
      "type": "Char",
      "core": "Perm",
      "source_column": "MDVERB",
      "transformation": "Direct mapping if modified",
      "transformation_type": "COPY",
      "controlled_terminology": null,
      "comments": "Modified medication name if verbatim term differs from MDPNT"
    },
    {
      "sdtm_variable": "CMDECOD",
      "label": "Standardized Medication Name",
      "type": "Char",
      "core": "Exp",
      "source_column": "MDCOD",
      "transformation": "Map to standardized medication name using WHO Drug or MedDRA dictionary",
      "transformation_type": "MAP",
      "controlled_terminology": "WHO Drug Dictionary",
      "comments": "Standardized medication name derived from coding (MDCOD field contains coded value)"
    },
    {
      "sdtm_variable": "CMSPID",
      "label": "Sponsor-Defined Identifier",
      "type": "Char",
      "core": "Perm",
      "source_column": "MDPNC",
      "transformation": "Convert to character",
      "transformation_type": "COPY",
      "controlled_terminology": null,
      "comments": "Sponsor-defined identifier for the medication record"
    },
    {
      "sdtm_variable": "CMCAT",
      "label": "Category for Medication",
      "type": "Char",
      "core": "Perm",
      "source_column": "MDAT1T",
      "transformation": "Extract category from ATC classification",
      "transformation_type": "DERIVE",
      "controlled_terminology": null,
      "comments": "Primary medication category from ATC Level 1 classification"
    },
    {
      "sdtm_variable": "CMSCAT",
      "label": "Subcategory for Medication",
      "type": "Char",
      "core": "Perm",
      "source_column": "MDAT3T",
      "transformation": "Extract subcategory from ATC classification",
      "transformation_type": "DERIVE",
      "controlled_terminology": null,
      "comments": "Medication subcategory from ATC Level 3 classification"
    },
    {
      "sdtm_variable": "CMCLAS",
      "label": "Medication Class",
      "type": "Char",
      "core": "Perm",
      "source_column": "MDAT1T",
      "transformation": "Extract medication class name",
      "transformation_type": "DERIVE",
      "controlled_terminology": null,
      "comments": "Medication class from ATC therapeutic classification"
    },
    {
      "sdtm_variable": "CMCLASCD",
      "label": "Medication Class Code",
      "type": "Num",
      "core": "Perm",
      "source_column": "MDAT1T",
      "transformation": "Extract medication class code",
      "transformation_type": "DERIVE",
      "controlled_terminology": "ATC",
      "comments": "Medication class code from ATC system"
    },
    {
      "sdtm_variable": "CMINDC",
      "label": "Indication",
      "type": "Char",
      "core": "Exp",
      "source_column": "MDIND",
      "transformation": "Direct mapping",
      "transformation_type": "COPY",
      "controlled_terminology": null,
      "comments": "Indication for medication use"
    },
    {
      "sdtm_variable": "CMDOSE",
      "label": "Dose per Administration",
      "type": "Char",
      "core": "Exp",
      "source_column": "MDUNIT",
      "transformation": "Convert to numeric",
      "transformation_type": "COPY",
      "controlled_terminology": null,
      "comments": "Dose per administration from MDUNIT field"
    },
    {
      "sdtm_variable": "CMDOSU",
      "label": "Dose Units",
      "type": "Char",
      "core": "Exp",
      "source_column": "MDUNITL",
      "transformation": "Map to CDISC UNIT codelist",
      "transformation_type": "MAP",
      "controlled_terminology": "UNIT",
      "comments": "Dose units standardized to CDISC controlled terminology"
    },
    {
      "sdtm_variable": "CMDOSFRM",
      "label": "Dose Form",
      "type": "Char",
      "core": "Perm",
      "source_column": "",
      "transformation": null,
      "transformation_type": "DERIVE",
      "controlled_terminology": "FRM",
      "comments": "Dose form not directly available in source; may need to derive from drug dictionary"
    },
    {
      "sdtm_variable": "CMDOSFRQ",
      "label": "Dosing Frequency per Interval",
      "type": "Char",
      "core": "Exp",
      "source_column": "MDFREQ",
      "transformation": "Map numeric frequency to CDISC FREQ codelist",
      "transformation_type": "MAP",
      "controlled_terminology": "FREQ",
      "comments": "Dosing frequency mapped from numeric MDFREQ or text MDFREQL to standard frequency terms"
    },
    {
      "sdtm_variable": "CMDOSFRQ",
      "label": "Dosing Frequency per Interval",
      "type": "Char",
      "core": "Exp",
      "source_column": "MDFREQL",
      "transformation": "Map text frequency to CDISC FREQ codelist",
      "transformation_type": "MAP",
      "controlled_terminology": "FREQ",
      "comments": "Text representation of dosing frequency; preferred over numeric MDFREQ"
    },
    {
      "sdtm_variable": "CMDOSTOT",
      "label": "Total Daily Dose",
      "type": "Char",
      "core": "Perm",
      "source_column": "MDFREQ",
      "transformation": "Calculate total daily dose",
      "transformation_type": "DERIVE",
      "controlled_terminology": null,
      "comments": "Total daily dose calculated by multiplying dose per administration by frequency"
    },
    {
      "sdtm_variable": "CMROUTE",
      "label": "Route of Administration",
      "type": "Char",
      "core": "Exp",
      "source_column": "MDRTEL",
      "transformation": "Map to CDISC ROUTE codelist",
      "transformation_type": "MAP",
      "controlled_terminology": "ROUTE",
      "comments": "Route of administration from MDRTEL (label) field mapped to standard terminology"
    },
    {
      "sdtm_variable": "CMROUTE",
      "label": "Route of Administration",
      "type": "Char",
      "core": "Exp",
      "source_column": "MDRTE",
      "transformation": "Map numeric route code to CDISC ROUTE codelist",
      "transformation_type": "MAP",
      "controlled_terminology": "ROUTE",
      "comments": "Alternative route field if MDRTEL is not available"
    },
    {
      "sdtm_variable": "CMSTDTC",
      "label": "Start Date/Time of Medication",
      "type": "Char",
      "core": "Exp",
      "source_column": "MDSTDT",
      "transformation": "Convert to ISO 8601 format (YYYY-MM-DD)",
      "transformation_type": "DERIVE",
      "controlled_terminology": null,
      "comments": "Start date of medication in ISO 8601 format; handle partial dates appropriately"
    },
    {
      "sdtm_variable": "CMENDTC",
      "label": "End Date/Time of Medication",
      "type": "Char",
      "core": "Exp",
      "source_column": "MDEDDT",
      "transformation": "Convert to ISO 8601 format (YYYY-MM-DD)",
      "transformation_type": "DERIVE",
      "controlled_terminology": null,
      "comments": "End date of medication in ISO 8601 format; handle partial dates appropriately"
    },
    {
      "sdtm_variable": "CMONGO",
      "label": "CMONGO",
      "type": "Char",
      "core": "Perm",
      "source_column": "MDONG",
      "transformation": "Map to controlled terminology",
      "transformation_type": "MAP",
      "controlled_terminology": "NY",
      "comments": "Ongoing medication flag indicating if medication continues beyond study period"
    },
    {
      "sdtm_variable": "CMSTAT",
      "label": "Completion Status",
      "type": "Char",
      "core": "Perm",
      "source_column": "MDSTC",
      "transformation": "Map completion status",
      "transformation_type": "MAP",
      "controlled_terminology": "ND",
      "comments": "Completion status if medication data was not collected"
    },
    {
      "sdtm_variable": "CMREASND",
      "label": "Reason Medication Not Given",
      "type": "Char",
      "core": "Perm",
      "source_column": "MDSTT",
      "transformation": "Direct mapping",
      "transformation_type": "COPY",
      "controlled_terminology": null,
      "comments": "Reason medication data was not collected, if CMSTAT='NOT DONE'"
    },
    {
      "sdtm_variable": "CMSCAT",
      "label": "Subcategory for Medication",
      "type": "Char",
      "core": "Perm",
      "source_column": "MDAT2C",
      "transformation": "Alternative subcategory mapping",
      "transformation_type": "DERIVE",
      "controlled_terminology": null,
      "comments": "Alternative ATC Level 2 classification for subcategory"
    },
    {
      "sdtm_variable": "CMSCAT",
      "label": "Subcategory for Medication",
      "type": "Char",
      "core": "Perm",
      "source_column": "MDAT2T",
      "transformation": "Alternative subcategory text mapping",
      "transformation_type": "DERIVE",
      "controlled_terminology": null,
      "comments": "Alternative text field for ATC Level 2 subcategory"
    },
    {
      "sdtm_variable": "CMCLASCD",
      "label": "Medication Class Code",
      "type": "Num",
      "core": "Perm",
      "source_column": "MDAT3C",
      "transformation": "Extract ATC code",
      "transformation_type": "DERIVE",
      "controlled_terminology": "ATC",
      "comments": "ATC Level 3 code for medication classification"
    },
    {
      "sdtm_variable": "CMCLASCD",
      "label": "Medication Class Code",
      "type": "Num",
      "core": "Perm",
      "source_column": "MDAT4C",
      "transformation": "Extract ATC Level 4 code",
      "transformation_type": "DERIVE",
      "controlled_terminology": "ATC",
      "comments": "ATC Level 4 code for detailed medication classification"
    },
    {
      "sdtm_variable": "CMSCAT",
      "label": "Subcategory for Medication",
      "type": "Char",
      "core": "Perm",
      "source_column": "MDAT4T",
      "transformation": "Extract ATC Level 4 text",
      "transformation_type": "DERIVE",
      "controlled_terminology": null,
      "comments": "ATC Level 4 text description for detailed subcategory"
    },
    {
      "sdtm_variable": "CMCLASCD",
      "label": "Medication Class Code",
      "type": "Num",
      "core": "Perm",
      "source_column": "MDAT1C",
      "transformation": "Extract ATC Level 1 code",
      "transformation_type": "DERIVE",
      "controlled_terminology": "ATC",
      "comments": "ATC Level 1 single letter code"
    },
    {
      "sdtm_variable": "VISIT",
      "label": "Visit Name",
      "type": "Char",
      "core": "Perm",
      "source_column": "VISIT",
      "transformation": "Direct mapping",
      "transformation_type": "COPY",
      "controlled_terminology": null,
      "comments": "Visit name when medication was recorded"
    },
    {
      "sdtm_variable": "VISITNUM",
      "label": "Visit Number",
      "type": "Char",
      "core": "Perm",
      "source_column": "VISIT",
      "transformation": "Extract numeric visit number",
      "transformation_type": "DERIVE",
      "controlled_terminology": null,
      "comments": "Numeric visit number for sequencing"
    },
    {
      "sdtm_variable": "EPOCH",
      "label": "Epoch",
      "type": "Char",
      "core": "Perm",
      "source_column": "CPEVENT",
      "transformation": "Map event to epoch",
      "transformation_type": "MAP",
      "controlled_terminology": null,
      "comments": "Study epoch when medication was recorded"
    },
    {
      "sdtm_variable": "CMSTDY",
      "label": "Study Day of Start of Medication",
      "type": "Num",
      "core": "Perm",
      "source_column": "MDSTDT",
      "transformation": "Calculate study day",
      "transformation_type": "DATE_FORMAT",
      "controlled_terminology": null,
      "comments": "Study day of medication start relative to reference start date from DM domain"
    },
    {
      "sdtm_variable": "CMENDY",
      "label": "Study Day of End of Medication",
      "type": "Num",
      "core": "Perm",
      "source_column": "MDEDDT",
      "transformation": "Calculate study day",
      "transformation_type": "DATE_FORMAT",
      "controlled_terminology": null,
      "comments": "Study day of medication end relative to reference start date from DM domain"
    },
    {
      "sdtm_variable": "CMGRPID",
      "label": "Group ID",
      "type": "Char",
      "core": "Perm",
      "source_column": "DSN",
      "transformation": "Convert to character",
      "transformation_type": "COPY",
      "controlled_terminology": null,
      "comments": "Dataset sequence number used as group identifier if applicable"
    },
    {
      "sdtm_variable": "CMREFID",
      "label": "Reference ID",
      "type": "Char",
      "core": "Perm",
      "source_column": "REPEATSN",
      "transformation": "Convert to character",
      "transformation_type": "COPY",
      "controlled_terminology": null,
      "comments": "Repeat sequence number used as reference ID for linking related records"
    },
    {
      "sdtm_variable": "SUPPQUAL",
      "label": "SUPPQUAL",
      "type": "Char",
      "core": "Perm",
      "source_column": "QUALIFYV",
      "transformation": "Map to supplemental qualifiers",
      "transformation_type": "MAP",
      "controlled_terminology": null,
      "comments": "Qualifying value that may require SUPPQUAL domain records"
    },
    {
      "sdtm_variable": "CMDECOD",
      "label": "Standardized Medication Name",
      "type": "Char",
      "core": "Exp",
      "source_column": "DCMNAME",
      "transformation": "Use as alternative for standardized name",
      "transformation_type": "DERIVE",
      "controlled_terminology": null,
      "comments": "Dictionary medication name for standardized term"
    },
    {
      "sdtm_variable": "CMLNKID",
      "label": "Link ID",
      "type": "Char",
      "core": "Perm",
      "source_column": "SUBEVE",
      "transformation": "Direct mapping",
      "transformation_type": "COPY",
      "controlled_terminology": null,
      "comments": "Sub-event identifier for linking to other domains"
    },
    {
      "sdtm_variable": "SUPPQUAL",
      "label": "SUPPQUAL",
      "type": "Char",
      "core": "Perm",
      "source_column": "MDQSN1",
      "transformation": "Create supplemental qualifier record",
      "transformation_type": "DERIVE",
      "controlled_terminology": null,
      "comments": "Questionnaire/additional data 1 to be stored in SUPPQUAL"
    },
    {
      "sdtm_variable": "SUPPQUAL",
      "label": "SUPPQUAL",
      "type": "Char",
      "core": "Perm",
      "source_column": "MDQSN2",
      "transformation": "Create supplemental qualifier record",
      "transformation_type": "DERIVE",
      "controlled_terminology": null,
      "comments": "Questionnaire/additional data 2 to be stored in SUPPQUAL"
    },
    {
      "sdtm_variable": "SUPPQUAL",
      "label": "SUPPQUAL",
      "type": "Char",
      "core": "Perm",
      "source_column": "MDQSN3",
      "transformation": "Create supplemental qualifier record",
      "transformation_type": "DERIVE",
      "controlled_terminology": null,
      "comments": "Questionnaire/additional data 3 to be stored in SUPPQUAL"
    },
    {
      "sdtm_variable": "CMDTC",
      "label": "CMDTC",
      "type": "Char",
      "core": "Perm",
      "source_column": "",
      "transformation": null,
      "transformation_type": "DATE_FORMAT",
      "controlled_terminology": null,
      "comments": "Date/time of medication collection, typically same as start date"
    },
    {
      "sdtm_variable": "CMDY",
      "label": "CMDY",
      "type": "Num",
      "core": "Perm",
      "source_column": "",
      "transformation": null,
      "transformation_type": "DATE_FORMAT",
      "controlled_terminology": null,
      "comments": "Study day of medication collection relative to reference start date"
    }
  ],
  "derivation_rules": {
    "CMSEQ": "ROW_NUMBER() OVER (PARTITION BY USUBJID ORDER BY CMDTC)",
    "USUBJID": "STUDYID || '-' || SITEID || '-' || SUBJID",
    "DOMAIN": "'CM'",
    "CMSTDY": "CMSTDTC - RFSTDTC + 1 (if CMSTDTC >= RFSTDTC) else CMSTDTC - RFSTDTC",
    "CMENDY": "CMENDTC - RFSTDTC + 1 (if CMENDTC >= RFSTDTC) else CMENDTC - RFSTDTC",
    "CMCAT": "Parse first part before comma from MDAT1T",
    "CMSCAT": "Parse first part before comma from MDAT3T",
    "CMCLAS": "Parse text before comma from MDAT1T",
    "CMCLASCD": "Parse ATC code after comma from MDAT1T (e.g., 'A', 'N')",
    "CMDOSU": "Standardize units: MG->mg, G->g, etc.",
    "CMDOSFRM": "May require external mapping or extraction from medication dictionary",
    "CMDOSFRQ": "Map values: 1=QD, 2=BID, 3=TID, 4=QID, 7=QD, etc.; MDFREQL may provide text frequency",
    "CMDOSTOT": "CMDOSE * MDFREQ (if MDFREQ represents times per day)",
    "CMROUTE": "Standardize routes: PO->ORAL, IV->INTRAVENOUS, etc.",
    "CMSTDTC": "Parse MDSTDT: if 8 digits (YYYYMMDD) convert to YYYY-MM-DD; if 6 digits (YYYYMM) convert to YYYY-MM; if 4 digits (YYYY) keep as YYYY",
    "CMENDTC": "Parse MDEDDT: if 8 digits (YYYYMMDD) convert to YYYY-MM-DD; if 6 digits (YYYYMM) convert to YYYY-MM; if 4 digits (YYYY) keep as YYYY",
    "CMONGO": "Y->Y, N->N",
    "CMSTAT": "If MDSTC indicates not done, set to 'NOT DONE'",
    "VISITNUM": "Parse numeric portion from VISIT or map visit names to visit numbers",
    "EPOCH": "Map CPEVENT='NON-VISIT' to appropriate epoch (e.g., SCREENING, TREATMENT, FOLLOW-UP based on dates)",
    "SUPPQUAL": "Create SUPPQUAL records for additional qualifying information",
    "CMDECOD": "Use DCMNAME if MDCOD is not available for standardized medication name",
    "CMDTC": "Set CMDTC = CMSTDTC for overall medication collection date/time",
    "CMDY": "Calculate as (CMDTC date - RFSTDTC date + 1) if CMDTC >= RFSTDTC, else (CMDTC date - RFSTDTC date)"
  },
  "controlled_terminologies": {},
  "data_quality_rules": []
}
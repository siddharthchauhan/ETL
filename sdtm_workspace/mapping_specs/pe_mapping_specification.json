{
  "metadata": {
    "study_id": "MAXIS-08",
    "source_domain": "PHYSEXAM.csv",
    "target_domain": "PE",
    "sdtm_version": "SDTM-IG 3.4",
    "created_by": "SDTM Mapping Generator",
    "created_date": "2026-02-02T09:37:18.877136",
    "description": "Mapping specification for PE domain transformation"
  },
  "source_files": [
    {
      "filename": "PHYSEXAM.csv",
      "records": 2169,
      "columns": 14
    }
  ],
  "variable_mappings": [
    {
      "sdtm_variable": "STUDYID",
      "label": "STUDYID",
      "type": "Char",
      "core": "Perm",
      "source_column": "",
      "transformation": null,
      "transformation_type": "DERIVE",
      "controlled_terminology": null,
      "comments": "Study identifier from STUDY source column"
    },
    {
      "sdtm_variable": "DOMAIN",
      "label": "DOMAIN",
      "type": "Char",
      "core": "Perm",
      "source_column": "",
      "transformation": null,
      "transformation_type": "DERIVE",
      "controlled_terminology": null,
      "comments": "Fixed domain code for Physical Examination"
    },
    {
      "sdtm_variable": "USUBJID",
      "label": "USUBJID",
      "type": "Char",
      "core": "Perm",
      "source_column": "",
      "transformation": null,
      "transformation_type": "CONCAT",
      "controlled_terminology": null,
      "comments": "Unique subject identifier derived from STUDY, INVSITE (site), and PT (subject). Format: STUDYID-SITEID-SUBJID"
    },
    {
      "sdtm_variable": "PESEQ",
      "label": "PESEQ",
      "type": "Num",
      "core": "Perm",
      "source_column": "",
      "transformation": null,
      "transformation_type": "SEQUENCE",
      "controlled_terminology": null,
      "comments": "Sequence number for ordering PE records within a subject, ordered by date and repeat sequence"
    },
    {
      "sdtm_variable": "PECAT",
      "label": "PECAT",
      "type": "Char",
      "core": "Perm",
      "source_column": "PESYS",
      "transformation": "Direct mapping",
      "transformation_type": "COPY",
      "controlled_terminology": null,
      "comments": "Category for physical examination - body system examined (HEENT, NECK, BREASTS, HEART, LUNGS, etc.)"
    },
    {
      "sdtm_variable": "PETEST",
      "label": "PETEST",
      "type": "Char",
      "core": "Perm",
      "source_column": "PESYS",
      "transformation": "Concatenate with ' Examination' suffix",
      "transformation_type": "CONCAT",
      "controlled_terminology": null,
      "comments": "Physical examination test name derived from body system (e.g., 'HEENT Examination', 'Heart Examination')"
    },
    {
      "sdtm_variable": "PETESTCD",
      "label": "PETESTCD",
      "type": "Num",
      "core": "Perm",
      "source_column": "",
      "transformation": null,
      "transformation_type": "DERIVE",
      "controlled_terminology": null,
      "comments": "Test code derived from PESYS body system"
    },
    {
      "sdtm_variable": "PEORRES",
      "label": "PEORRES",
      "type": "Char",
      "core": "Perm",
      "source_column": "PEFDG",
      "transformation": "Direct mapping",
      "transformation_type": "COPY",
      "controlled_terminology": "C78737",
      "comments": "Result of physical examination as collected (NORMAL, ABNORMAL, NOT EXAMINED, NOT DONE). Use PEFDG when populated."
    },
    {
      "sdtm_variable": "PESTRESC",
      "label": "PESTRESC",
      "type": "Char",
      "core": "Perm",
      "source_column": "PEFDG",
      "transformation": "Direct mapping - standardized result",
      "transformation_type": "DERIVE",
      "controlled_terminology": "C78737",
      "comments": "Standardized result in character format, same as PEORRES for physical exam findings"
    },
    {
      "sdtm_variable": "PEORRES",
      "label": "PEORRES",
      "type": "Char",
      "core": "Perm",
      "source_column": "PETXT",
      "transformation": "Use when PEFDG is null",
      "transformation_type": "DERIVE",
      "controlled_terminology": null,
      "comments": "Use free text description as result when PEFDG is not populated. PETXT contains detailed findings like 'MILD UPPER BACK PAIN'"
    },
    {
      "sdtm_variable": "PESTRESC",
      "label": "PESTRESC",
      "type": "Char",
      "core": "Perm",
      "source_column": "PETXT",
      "transformation": "Standardize free text if possible",
      "transformation_type": "DERIVE",
      "controlled_terminology": null,
      "comments": "When PEFDG exists use it, otherwise use PETXT verbatim as standardized result"
    },
    {
      "sdtm_variable": "PECOMMEN",
      "label": "PECOMMEN",
      "type": "Char",
      "core": "Perm",
      "source_column": "PETXT",
      "transformation": "Direct mapping when PEFDG is also present",
      "transformation_type": "DERIVE",
      "controlled_terminology": null,
      "comments": "Additional comments about the physical examination finding when both coded result and text description exist"
    },
    {
      "sdtm_variable": "PESTAT",
      "label": "PESTAT",
      "type": "Char",
      "core": "Perm",
      "source_column": "PEANYL",
      "transformation": "Map 'NOT DONE' to 'NOT DONE'",
      "transformation_type": "MAP",
      "controlled_terminology": "C66789",
      "comments": "Completion status of the physical examination. Indicates if exam was not performed."
    },
    {
      "sdtm_variable": "PEREASND",
      "label": "PEREASND",
      "type": "Char",
      "core": "Perm",
      "source_column": "PEANYL",
      "transformation": "Derive reason when not done",
      "transformation_type": "DERIVE",
      "controlled_terminology": null,
      "comments": "Reason physical examination was not done, populated when PESTAT = 'NOT DONE'"
    },
    {
      "sdtm_variable": "PEEVAL",
      "label": "PEEVAL",
      "type": "Char",
      "core": "Perm",
      "source_column": "PEQSN",
      "transformation": "Map to evaluator type",
      "transformation_type": "MAP",
      "controlled_terminology": "C78735",
      "comments": "Role of person performing evaluation. PEQSN appears to indicate investigator evaluation (values: YES/NO)"
    },
    {
      "sdtm_variable": "PEDTC",
      "label": "PEDTC",
      "type": "Char",
      "core": "Perm",
      "source_column": "PEDT",
      "transformation": "Convert YYYYMMDD numeric to ISO 8601 YYYY-MM-DD format",
      "transformation_type": "DATE_FORMAT",
      "controlled_terminology": null,
      "comments": "Date of physical examination in ISO 8601 format. Convert from numeric YYYYMMDD format (e.g., 20080826.0 to 2008-08-26)"
    },
    {
      "sdtm_variable": "PEDY",
      "label": "PEDY",
      "type": "Num",
      "core": "Perm",
      "source_column": "PEDT",
      "transformation": "Calculate study day",
      "transformation_type": "DERIVE",
      "controlled_terminology": null,
      "comments": "Study day of physical examination relative to reference start date (RFSTDTC). Requires DM.RFSTDTC for calculation."
    },
    {
      "sdtm_variable": "VISIT",
      "label": "VISIT",
      "type": "Char",
      "core": "Perm",
      "source_column": "CPEVENT",
      "transformation": "Direct mapping",
      "transformation_type": "COPY",
      "controlled_terminology": null,
      "comments": "Protocol-defined visit name (e.g., BASELINE, WEEK 4, WEEK 8, etc.)"
    },
    {
      "sdtm_variable": "VISITNUM",
      "label": "VISITNUM",
      "type": "Char",
      "core": "Perm",
      "source_column": "VISIT",
      "transformation": "Direct mapping",
      "transformation_type": "COPY",
      "controlled_terminology": null,
      "comments": "Clinical visit number. Source VISIT column contains numeric visit identifiers (1-998)"
    },
    {
      "sdtm_variable": "EPOCH",
      "label": "EPOCH",
      "type": "Char",
      "core": "Perm",
      "source_column": "CPEVENT",
      "transformation": "Derive epoch from visit",
      "transformation_type": "DERIVE",
      "controlled_terminology": null,
      "comments": "Trial epoch derived from visit name. Map baseline to screening, treatment visits to treatment, follow-up visits to follow-up."
    },
    {
      "sdtm_variable": "PEPRMPT",
      "label": "PEPRMPT",
      "type": "Char",
      "core": "Perm",
      "source_column": "REPEATSN",
      "transformation": "Create prompt text",
      "transformation_type": "DERIVE",
      "controlled_terminology": null,
      "comments": "REPEATSN indicates repeat sequence within visit (1-12). Can be used to identify multiple assessments of same body system."
    },
    {
      "sdtm_variable": "PEPERF",
      "label": "PEPERF",
      "type": "Char",
      "core": "Perm",
      "source_column": "PEQSN",
      "transformation": "Map to performed indicator",
      "transformation_type": "MAP",
      "controlled_terminology": "C66742",
      "comments": "Indicates if physical exam was performed. PEQSN contains YES/NO values that can be mapped to Y/N."
    },
    {
      "sdtm_variable": "PEMETHOD",
      "label": "PEMETHOD",
      "type": "Char",
      "core": "Perm",
      "source_column": "DCMNAME",
      "transformation": "Direct mapping if method-related",
      "transformation_type": "COPY",
      "controlled_terminology": null,
      "comments": "Method of physical examination if DCMNAME (PHYSICAL_EXAM) contains method information, otherwise null"
    },
    {
      "sdtm_variable": "SUBJID",
      "label": "SUBJID",
      "type": "Char",
      "core": "Perm",
      "source_column": "PT",
      "transformation": "Direct mapping",
      "transformation_type": "COPY",
      "controlled_terminology": null,
      "comments": "Subject identifier for the study. PT column contains subject ID (e.g., '01-01')"
    },
    {
      "sdtm_variable": "SITEID",
      "label": "SITEID",
      "type": "Char",
      "core": "Perm",
      "source_column": "INVSITE",
      "transformation": "Direct mapping",
      "transformation_type": "COPY",
      "controlled_terminology": null,
      "comments": "Study site identifier from INVSITE (e.g., 'C008_408')"
    },
    {
      "sdtm_variable": "PELOC",
      "label": "PELOC",
      "type": "Char",
      "core": "Perm",
      "source_column": "PEFDG",
      "transformation": "Derive location from body system",
      "transformation_type": "DERIVE",
      "controlled_terminology": "C74456",
      "comments": "Anatomical location of physical examination. Can be derived from PESYS body system when location specificity is needed."
    },
    {
      "sdtm_variable": "PELAT",
      "label": "PELAT",
      "type": "Char",
      "core": "Perm",
      "source_column": "",
      "transformation": null,
      "transformation_type": "DERIVE",
      "controlled_terminology": "C99073",
      "comments": "Laterality of finding if mentioned in PETXT (e.g., 'RIGHT' from 'DULL PAIN RIGHT PARAVERTEBRAL AREA')"
    },
    {
      "sdtm_variable": "PEPOS",
      "label": "PEPOS",
      "type": "Char",
      "core": "Perm",
      "source_column": "",
      "transformation": null,
      "transformation_type": "DERIVE",
      "controlled_terminology": "C71148",
      "comments": "Position of subject during physical examination (e.g., SUPINE, SITTING) if documented"
    },
    {
      "sdtm_variable": "PEORRESU",
      "label": "PEORRESU",
      "type": "Num",
      "core": "Perm",
      "source_column": "",
      "transformation": null,
      "transformation_type": "DERIVE",
      "controlled_terminology": "C71620",
      "comments": "Original units of PE result - typically null for physical exam categorical findings, unless quantitative measurements exist"
    },
    {
      "sdtm_variable": "PESTRESU",
      "label": "PESTRESU",
      "type": "Char",
      "core": "Perm",
      "source_column": "",
      "transformation": null,
      "transformation_type": "DERIVE",
      "controlled_terminology": "C71620",
      "comments": "Standard units - same as original units for PE domain"
    },
    {
      "sdtm_variable": "PESTRESN",
      "label": "PESTRESN",
      "type": "Num",
      "core": "Perm",
      "source_column": "",
      "transformation": null,
      "transformation_type": "DERIVE",
      "controlled_terminology": null,
      "comments": "Numeric standardized result - not applicable for categorical physical exam findings"
    },
    {
      "sdtm_variable": "PENAM",
      "label": "PENAM",
      "type": "Char",
      "core": "Perm",
      "source_column": "",
      "transformation": null,
      "transformation_type": "DERIVE",
      "controlled_terminology": null,
      "comments": "Name or identifier for specific physical examination test procedure if different from standard"
    },
    {
      "sdtm_variable": "VISITDY",
      "label": "VISITDY",
      "type": "Num",
      "core": "Perm",
      "source_column": "SUBEVE",
      "transformation": "Use as visit day offset if applicable",
      "transformation_type": "DERIVE",
      "controlled_terminology": null,
      "comments": "Planned study day of visit - SUBEVE may represent sub-event sequencing, though all sample values are 0"
    }
  ],
  "derivation_rules": {
    "PESEQ": "ROW_NUMBER() OVER (PARTITION BY USUBJID ORDER BY PEDTC)",
    "USUBJID": "STUDYID || '-' || SITEID || '-' || SUBJID",
    "DOMAIN": "'PE'",
    "STUDYID": "STUDY",
    "PETEST": "PESYS || ' Examination' when PESYS is not null",
    "PETESTCD": "Upper case abbreviation of PESYS (e.g., 'HEENT', 'NECK', 'HEART', 'LUNGS')",
    "PESTRESC": "Same as PEORRES when PEORRES is from controlled terminology",
    "PEORRES": "COALESCE(PEFDG, PETXT)",
    "PECOMMEN": "PETXT when both PEFDG and PETXT are populated",
    "PESTAT": "CASE WHEN PEANYL = 'NOT DONE' THEN 'NOT DONE' ELSE NULL END",
    "PEREASND": "CASE WHEN PEANYL = 'NOT DONE' THEN 'NOT DONE' ELSE NULL END",
    "PEEVAL": "CASE WHEN PEQSN IS NOT NULL THEN 'INVESTIGATOR' ELSE NULL END",
    "PEDTC": "TO_DATE(CAST(PEDT AS VARCHAR), 'YYYYMMDD') formatted as 'YYYY-MM-DD'",
    "PEDY": "(PEDTC - RFSTDTC) + 1 if PEDTC >= RFSTDTC, else (PEDTC - RFSTDTC)",
    "EPOCH": "CASE WHEN CPEVENT = 'BASELINE' THEN 'SCREENING' WHEN CPEVENT LIKE 'WEEK%' OR CPEVENT LIKE 'MONTH%' THEN 'TREATMENT' WHEN CPEVENT LIKE 'FOLLOW%' THEN 'FOLLOW-UP' ELSE 'TREATMENT' END",
    "PEPRMPT": "Body system identifier - use to group repeat assessments",
    "PEPERF": "CASE WHEN PEQSN = 'YES' THEN 'Y' WHEN PEQSN = 'NO' THEN 'N' ELSE NULL END",
    "PELOC": "PESYS when specific anatomical location needs to be specified separately",
    "PELAT": "Extract laterality keywords (LEFT, RIGHT, BILATERAL) from PETXT when present (e.g., 'RIGHT PARAVERTEBRAL')",
    "PEPOS": "Extract position from PETXT or other source if body position during exam is documented",
    "PEORRESU": "Null for categorical findings",
    "PESTRESU": "Same as PEORRESU",
    "PESTRESN": "Null for categorical results",
    "PENAM": "Name of test or examination sponsor-defined identifier if available",
    "VISITDY": "SUBEVE represents sub-event (all values are 0 in sample), may indicate day offset within visit window"
  },
  "controlled_terminologies": {
    "PELAT": "HISPANIC OR LATINO, NOT HISPANIC OR LATINO, NOT REPORTED, UNKNOWN",
    "PELOC": "STANDING, SITTING, SUPINE, PRONE"
  },
  "data_quality_rules": []
}